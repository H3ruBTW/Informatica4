<DOC!TYPE html>
<html>
	<head>
        <title>Calcolatrice</title>
        <link href="style.css" rel="stylesheet">
    </head>
    <body>
        <center>
            <h1>Calcolatrice</h1>
            <hr>
            <br>
            <input type="text" id="display" value="0" disabled> <br><br>
            <button onclick="appendValue(7)">7</button>
            <button onclick="appendValue(8)">8</button>
            <button onclick="appendValue(9)">9</button>
            <button onclick="cancella()">C</button> 
            <br>
            <button onclick="appendValue(4)">4</button>
            <button onclick="appendValue(5)">5</button>
            <button onclick="appendValue(6)">6</button>
            <button onclick="setOperator('/')">/</button>
            <br>
            <button onclick="appendValue(1)">1</button>
            <button onclick="appendValue(2)">2</button>
            <button onclick="appendValue(3)">3</button>
            <button onclick="setOperator('x')">x</button>
            <br>
            <button onclick="refreshDisplay()">=</button>
            <button onclick="appendValue(0)">0</button>
            <button onclick="setOperator('+')">+</button>
            <button onclick="setOperator('-')">-</button>

        </center>

        <script>
            let display = document.getElementById('display');
            let operator = "+";
            let ris = 0;

            function cancella(){
                display.value = 0;
                ris = 0;
                oper = '+';
            }

            function appendValue(num){
                display.value = display.value * 10 + num;
            }

            function setOperator(oper){
                operation();
                operator = oper;
                display.value = 0;
            }

            function operation(){
                if(oper=='+')
                    ris+=parceInt(display.value);
                if(oper=='-')
                    ris-=parceInt(display.value);
                if(oper=='x')
                    ris*=parceInt(display.value);
                if(oper=='/')
                {
                    if(display.value == "0")
                        display.value = "Impossibile dividere per 0";

                    if(display.value != "0")
                        ris/=parceInt(display.value);
                }
                    
            }

            function refreshDisplay()
            {
                operation();
                display.value=ris;
            }
        </script>
    </body>
</html>

